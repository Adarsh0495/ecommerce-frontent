<div class="container-fluid">
    <div class="row flex-nowrap">
        <!-- Sidebar -->
        <div 
            [class.collapsed]="isSideBarCollapsed" 
            class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark position-sticky top-0" 
            style="height: 100vh;">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-sm-2 pt-2 text-white min-vh-100">
                <!-- Sidebar Toggle -->
                <a class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none w-100">
                    <button 
                        class="btn btn-outline-light mb-2 mt-3 ml-0" 
                        (click)="toggleSideBar()" 
                        style="border: none; background: transparent; padding-left: 0px;">
                        <img 
                            src="../../../assets/sidenav/download.png" 
                            alt="Toggle Sidebar" 
                            style="width: 30px; height: 30px; border-radius: 5px;">
                    </button>
                </a>
  
                <!-- Sidebar Menu -->
                <ul 
                    *ngIf="!isSideBarCollapsed" 
                    [ngClass]="{'expanded': !isSideBarCollapsed, 'collapsed': isSideBarCollapsed}" 
                    class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" 
                    id="menu">
                    <li>
                        <a routerLink="/adminhome" class="nav-link px-0 align-middle text-light">
                            <i class="fs-4 bi-speedometer2"></i> 
                            <span class="ms-1 d-none d-sm-inline">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a routerLink="/adminusers" class="nav-link px-0 align-middle text-light">
                            <i class="fs-4 bi-table"></i> 
                            <span class="ms-1 d-none d-sm-inline">Users</span>
                        </a>
                    </li>
                    <li>
                        <a routerLink="/adminproducts" class="nav-link px-0 align-middle text-light">
                            <i class="fs-4 bi-bootstrap"></i> 
                            <span class="ms-1 d-none d-sm-inline">Products</span>
                        </a>
                    </li>
                    <li>
                        <a routerLink="/addproducts" class="nav-link px-0 align-middle text-light">
                            <i class="fs-4 bi-grid"></i> 
                            <span class="ms-1 d-none d-sm-inline">Add Product</span>
                        </a>
                    </li>
                    <li>
                        <a routerLink="/login" class="nav-link px-0 align-middle text-light">
                            <i class="fs-4 bi-people"></i> 
                            <span class="ms-1 d-none d-sm-inline">Sign Out</span>
                        </a>
                    </li>
                </ul>
  
                <!-- Collapsed Sidebar Icons -->
                <ul 
                    *ngIf="isSideBarCollapsed"
                    class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start">
                    <li class="mt-5">
                        <a routerLink="/adminhome"><img class="navicon" src="../../../assets/sidenav/dashboard1.png" alt=""></a>
                    </li>
                    <li class="mt-5">
                        <a routerLink="/adminusers"><img class="navicon" src="../../../assets/sidenav/user1.png" alt=""></a>
                    </li>
                    <li class="mt-5">
                        <a routerLink="/adminproducts"><img class="navicon" src="../../../assets/sidenav/productlist2.png" alt=""></a>
                    </li>
                    <li class="mt-5">
                        <a routerLink="/addproducts"><img class="navicon" src="../../../assets/sidenav/addproduct1.png" alt=""></a>
                    </li>
                    <li class="mt-5">
                        <a routerLink="/login"><img class="navicon" src="../../../assets/sidenav/sign.jpg" alt=""></a>
                    </li>
                </ul>
            </div>
        </div>
  
      <!-- Main Content -->
      <div class="col py-3">
        <div class="container mt-4">
          <div class="row">
            <div class="col-md-12">
              <div class="card shadow-lg border-0 rounded">
                <div class="card-header bg-dark text-white text-center py-3">
                  <h4 class="mb-0">Manage Users</h4>
                </div>
                <div class="card-body p-4">
                  <div class="table-responsive">
                    <table class="table table-hover text-center align-middle">
                      <thead class="bg-dark text-white">
                        <tr>
                          <th>Username</th>
                          <th>Email</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngIf="isLoading">
                          <td colspan="2" class="text-center">Loading users...</td>
                        </tr>
                        <tr *ngIf="!isLoading && adminUsers.length === 0">
                          <td colspan="2" class="text-center">No users found</td>
                        </tr>
                        <tr *ngFor="let user of adminUsers">
                          <td><span class="text-muted">{{ user.username }}</span></td>
                          <td><span class="text-muted">{{ user.email }}</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div> <!-- End Card Body -->
              </div> <!-- End Card -->
            </div>
          </div>
        </div>
      </div> <!-- End Main Content -->
    </div>
  </div>
  